if(!LytePopup){var LytePopup={components:[],bodywrapperCount:0,onEscape:function(t){("key"in(t=t||window.event)?"Escape"==t.key||"Esc"==t.key:27==t.keyCode)&&LytePopup.closePopup(void 0,!0)},bindDocumentKeydown:function(){document.addEventListener("keydown",LytePopup.onEscape,!0)},hideOrShowFreeze:function(t){var e,o="";if("open"==t&&LytePopup.components.length>1)for(var a=LytePopup.components.length-2;a>=0;a--){if(o="LYTE-MODAL"==LytePopup.components[a].$node.tagName?"lyte-modal-freeze":"LYTE-POPOVER"==LytePopup.components[a].$node.tagName?"lyte-popover-freeze":".alertFreezeLayer",i=LytePopup.components[a].childComp.querySelector(o)){i.style.opacity="0";break}}else if("close"==t&&LytePopup.components.length>1)for(a=LytePopup.components.length-2;a>=0;a--){var i;if("LYTE-MODAL"==LytePopup.components[a].$node.tagName?(o="lyte-modal-freeze",e=LytePopup.components[a].getData("ltPropDimmer").opacity):"LYTE-POPOVER"==LytePopup.components[a].$node.tagName?(o="lyte-popover-freeze",e=LytePopup.components[a].getData("ltPropDimmer").opacity):(o=".alertFreezeLayer",e="0.4"),i=LytePopup.components[a].childComp.querySelector(o)){i.style.opacity=e;break}}},addPopup:function(t){LytePopup.closePopup();var e=LytePopup.components.length;if(e>0){var o,a="",i="";a="LYTE-MODAL"==LytePopup.components[e-1].$node.tagName?".modalWrapper":"LYTE-POPOVER"==LytePopup.components[e-1].$node.tagName?".popoverWrapper":".alertWrapper",i="LYTE-MODAL"==t.$node.tagName?".modalWrapper":"LYTE-POPOVER"==t.$node.tagName?".popoverWrapper":".alertWrapper";var n=t.childComp.querySelector(i);o=Number(document.defaultView.getComputedStyle(LytePopup.components[LytePopup.components.length-1].childComp.querySelector(a),null).getPropertyValue("z-index")),n.style.zIndex=o+2}LytePopup.components[e]=t,(t.getData("ltPropFreeze")||"LYTE-ALERT"==t.$node.tagName)&&LytePopup.hideOrShowFreeze("open")},closePopup:function(t,e){if(e){var o=LytePopup.components[LytePopup.components.length-1];o&&o.$node.ltProp("closeOnEscape")&&o.$node.ltProp("show",!1)}else if(t){var a=LytePopup.components.indexOf(t);a>-1&&LytePopup.components.splice(a,1)}else for(var i=LytePopup.components.length-1;i>=0;i--)LytePopup.components[i].$node&&!LytePopup.components[i].$node.ltProp("allowMultiple")&&(LytePopup.components[i].$node.ltProp("show",!1),"LYTE-MODAL"==LytePopup.components[i].$node.tagName&&LytePopup.components.splice(i,1))}};LytePopup.bindDocumentKeydown()}function addModalEvent(t){window.addEventListener("resize",function(t){LytePopup._lyteModalRTId&&(clearTimeout(LytePopup._lyteModalRTId),LytePopup._lyteModalRTId=!1),LytePopup._lyteModalRTId=setTimeout(function(){for(var t=LytePopup.components.length-1;t>=0;t--)LytePopup.components[t].$node&&"LYTE-MODAL"==LytePopup.components[t].$node.nodeName&&"visible"==LytePopup.components[t].childComp.style.visibility&&LytePopup.components[t].childComp.querySelector(".lyteModal")&&(LytePopup.components[t].$node.component.setData("resizeCalled",!0),LytePopup.components[t].$node.component.updateScrollHandling(),LytePopup.components[t].$node.component.computeOffsetImplOnResize(),LytePopup.components[t].$node.component.callOnResize());LytePopup._lyteModalRTId=!1},100)},!0),document.addEventListener("click",function(t){for(var e=t.target;!$L(e).hasClass("modalWrapper")&&"LYTE-MODAL-FREEZE"!=e.tagName&&"LYTE-DROP-BOX"!=e.tagName&&"HTML"!=e.tagName;)if(!(e=e.parentElement))return;if("HTML"==e.tagName||"LYTE-MODAL-FREEZE"==e.tagName)for(var o=LytePopup.components.length-1;o>=0;o--)if("LYTE-MODAL"==LytePopup.components[o].$node.tagName&&"visible"==LytePopup.components[o].childComp.style.visibility){var a=LytePopup.components[o].$node;a&&a.component.getData("ltPropOverlayClose")&&a.ltProp("show",!1)}},!0)}Lyte.Component.register("lyte-modal",{_template:'<template tag-name="lyte-modal">\n\t<template is="if" value="{{expHandlers(ltPropBindToBody,\'&amp;&amp;\',expHandlers(ltPropReRenderModal,\'!\'))}}"><template case="true">\n\t\t<lyte-wormhole case="true" style="{{if(ltPropShowCopy,\'visibility:visible\',\'visibility:hidden\')}}" on-before-append="{{method(&quot;beforeWormholeAppend&quot;)}}">\n\t\t\t<template is="registerYield" yield-name="lyte-content">\n\t\t\t\t<div class="modalWrapper {{ltPropWrapperClass}}">\n\t\t\t\t\t<div class="{{if(ifEquals(ltPropTransition.animation,\'zoom\'),\'lyteModal lyteZoom\', \'lyteModal\')}}">\n\t\t\t\t\t\t<template is="if" value="{{ltPropShowCloseButton}}">\n\t\t\t\t\t\t\t<template case="true"><span class="lyteModalClose" onclick="{{action(\'close\')}}"></span></template>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<lyte-yield yield-name="modal"></lyte-yield>\n\t\t\t\t\t</div>\n\t\t\t\t\t<template is="if" value="{{ltPropFreeze}}">\n\t\t\t\t\t\t<template case="true"><lyte-modal-freeze></lyte-modal-freeze></template>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</lyte-wormhole>\n\t</template></template>\n</template>',_dynamicNodes:[{type:"attr",position:[1]},{type:"if",position:[1],cases:{true:{dynamicNodes:[{type:"attr",position:[1],attr:{style:{name:"style",helperInfo:{name:"if",args:["ltPropShowCopy","'visibility:visible'","'visibility:hidden'"]}}}},{type:"registerYield",position:[1,1],dynamicNodes:[{type:"attr",position:[1]},{type:"attr",position:[1,1]},{type:"attr",position:[1,1,1]},{type:"if",position:[1,1,1],cases:{true:{dynamicNodes:[{type:"attr",position:[0]}]}},default:{}},{type:"insertYield",position:[1,1,3]},{type:"attr",position:[1,3]},{type:"if",position:[1,3],cases:{true:{dynamicNodes:[{type:"componentDynamic",position:[0]}]}},default:{}}]},{type:"componentDynamic",position:[1]}]}},default:{}}],_observedAttributes:["ltPropShow","ltPropFreeze","ltPropShowCloseButton","ltPropCloseOnEscape","ltPropTransition","ltPropOffset","ltPropDimmer","ltPropDraggable","ltPropAllowMultiple","ltPropScrollable","ltPropMaxHeight","ltPropMaxWidth","ltPropWidth","ltPropHeight","ltPropWrapperClass","ltPropBindToBody","ltPropShowCopy","ltPropReRenderModal","ltPropOverlayClose","first","resizeCalled","initializedPosition","prevHeight","returnedFalse","prevModalHeight","prevModalWidth","calculateHW"],data:function(){return{ltPropShow:Lyte.attr("boolean",{default:!1}),ltPropFreeze:Lyte.attr("boolean",{default:!0}),ltPropShowCloseButton:Lyte.attr("boolean",{default:!0}),ltPropCloseOnEscape:Lyte.attr("boolean",{default:!0}),ltPropTransition:Lyte.attr("object",{default:{animation:"slideFromTop",duration:"0.5"}}),ltPropOffset:Lyte.attr("object",{default:{top:"center",left:"center"}}),ltPropDimmer:Lyte.attr("object",{default:{color:"black",opacity:"0.4"}}),ltPropDraggable:Lyte.attr("boolean",{default:!1}),ltPropAllowMultiple:Lyte.attr("boolean",{default:!1}),ltPropScrollable:Lyte.attr("boolean",{default:!1}),ltPropMaxHeight:Lyte.attr("string",{default:""}),ltPropMaxWidth:Lyte.attr("string",{default:""}),ltPropWidth:Lyte.attr("string",{default:""}),ltPropHeight:Lyte.attr("string",{default:"auto"}),ltPropWrapperClass:Lyte.attr("string",{default:""}),ltPropBindToBody:Lyte.attr("boolean",{default:!1}),ltPropShowCopy:Lyte.attr("boolean",{default:!1}),ltPropReRenderModal:Lyte.attr("boolean",{default:!1}),ltPropOverlayClose:Lyte.attr("boolean",{default:!1}),first:Lyte.attr("boolean",{default:!0}),resizeCalled:Lyte.attr("boolean",{default:!1}),initializedPosition:Lyte.attr("boolean",{default:!1}),prevHeight:Lyte.attr("number"),returnedFalse:Lyte.attr("boolean",{default:!1}),prevModalHeight:Lyte.attr("number"),prevModalWidth:Lyte.attr("number"),calculateHW:Lyte.attr("boolean",{default:!1})}},addDragHandler:function(){var t=this.actualModalDiv.querySelector("lyte-modal-header");t?(t.parentEle=this,this.$node.ltProp("draggable")?(t.addEventListener("mousedown",this.handleMove,!0),t.addEventListener("touchstart",this.handleMove,!0),t.classList.add("draggable")):(t.removeEventListener("mousedown",this.handleMove,!0),t.removeEventListener("touchstart",this.handleMove,!0),t.classList.remove("draggable"))):(console.warn("This modal is not draggable because it has no header"),this.$node.ltProp("draggable",!1))},handleMove:function(t){var e=t.currentTarget.parentEle.actualModalDiv;LytePopup.node=e,"mousedown"==t.type&&(mouseOffset={x:t.clientX,y:t.clientY}),"touchstart"==t.type&&(mouseOffset={x:t.touches[0].clientX,y:t.touches[0].clientY}),"fadeIn"==t.currentTarget.parentEle.getData("ltPropTransition").animation?(LytePopup.xPos=mouseOffset.x-this.getBoundingClientRect().left,LytePopup.yPos=mouseOffset.y-this.getBoundingClientRect().top):(LytePopup.xPos=mouseOffset.x,LytePopup.yPos=mouseOffset.y);e.getBoundingClientRect();e.style.transitionDuration="0s",(t.type="mousedown")&&(document.body.addEventListener("mousemove",t.currentTarget.parentEle.handleDrag,!0),document.body.addEventListener("mouseup",t.currentTarget.parentEle.stopDrag,!0)),(t.type="touchstart")&&(document.body.addEventListener("touchmove",t.currentTarget.parentEle.handleDrag,!0),document.body.addEventListener("touchend",t.currentTarget.parentEle.stopDrag,!0))},handleDrag:function(t){var e=LytePopup.node;if(LytePopup.node){var o;if("mousemove"==t.type&&(o={x:t.clientX,y:t.clientY}),"touchmove"==t.type&&(o={x:t.touches[0].clientX,y:t.touches[0].clientY}),"fadeIn"==LytePopup.node.closest("lyte-wormhole")._callee.component.getData("ltPropTransition").animation)e.style.left=o.x-LytePopup.xPos+"px",e.style.top=o.y-LytePopup.yPos+"px";else{var a=LytePopup.node.closest("lyte-wormhole")._callee.component.transform,i=a.x+(o.x-LytePopup.xPos),n=a.y+(o.y-LytePopup.yPos);e.style.transform="translate("+i+"px, "+n+"px)"}window.getSelection().removeAllRanges()}},stopDrag:function(t){for(var e=t.target;e&&e!==document;){if(e.parentEle){"mouseup"==t.type&&(this.removeEventListener("mousemove",e.parentEle.handleDrag,!0),this.removeEventListener("mouseup",e.parentEle.stopDrag,!0)),"touchend"==t.type&&(this.removeEventListener("touchmove",e.parentEle.handleDrag,!0),this.removeEventListener("touchend",e.parentEle.stopDrag,!0));break}e=e.parentElement?e.parentElement:document}if(LytePopup.node){var o=LytePopup.node.closest("lyte-wormhole")._callee.component;if(LytePopup.node.style.transitionDuration=o.getData("ltPropTransition").duration,"fadeIn"!=o.getData("ltPropTransition").animation){var a=new WebKitCSSMatrix(window.getComputedStyle(o.actualModalDiv).transform);o.transform={x:a.m41,y:a.m42}}LytePopup.node=null}},showToggled:function(){var t=t||window.event;if(this.getData("returnedFalse"))this.setData("returnedFalse",!1);else if(this.$node.ltProp("reRenderModal")&&(this.$node.ltProp("show")&&this.$node.ltProp({showCopy:!1,show:!1}),this.$node.ltProp("reRenderModal",!1)),this.$node.ltProp("show")&&!this.$node.ltProp("showCopy")){if(_lyteUiUtils.getRTL()){"slideFromLeft"==this.getData("ltPropTransition").animation?this.getData("ltPropTransition").animation="slideFromRight":"slideFromRight"==this.getData("ltPropTransition").animation&&(this.getData("ltPropTransition").animation="slideFromLeft");var e=this.getData("ltPropOffset"),o={};for(key in e)"left"==key&&"center"!=e[key]?o.right=e[key]:"right"==key?o.left=e[key]:o[key]=e[key];this.setData("ltPropOffset",o)}this.$node.ltProp("bindToBody",!0);var a=this;setTimeout(function(){a.onBeforeShowHandling()},0)}else if(this.$node.ltProp("showCopy")){a=this;setTimeout(function(){a.onBeforeCloseHandling(t)},0)}}.observes("ltPropShow","ltPropReRenderModal").on("didConnect"),changeBindToBody:function(){this.getData("ltPropBindToBody")||(LytePopup.closePopup(this),this.actualModalDiv=null,this.childComp=null,this.getData("ltPropShow")?this.setData({ltPropShowCopy:!1,ltPropShow:!1}):this.getData("ltPropShowCopy")&&this.setData("ltPropShowCopy",!1),this.setData("first",!0),this.setData("initializedPosition",!1),this.$node.ltProp("freeze")&&(LytePopup.bodywrapperCount-=1,0==LytePopup.bodywrapperCount&&document.body.classList.remove("bodyWrapper")))}.observes("ltPropBindToBody"),updateScrollHandling:function(){this.$node.ltProp("freeze")||this.setData("calculateHW",!0);var t,e,o,a,i=this.actualModalDiv,n=i.querySelector("lyte-modal-content");n=n||i,i.style.maxWidth="",i.style.maxHeight="",i.style.height=this.$node.ltProp("height")?this.$node.ltProp("height"):"auto",i.style.width=this.$node.ltProp("width")?this.$node.ltProp("width"):"auto",$L.fastdom.measure(function(){var l=i.getBoundingClientRect(),r=i.parentElement.getBoundingClientRect(),s=window.getComputedStyle(i),p=(s.borderTop?parseFloat(s.borderTop):0)+(s.borderBottom?parseFloat(s.borderBottom):0),d=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(this.getData("ltPropFreeze")?parseInt(window.getComputedStyle(i.parentElement).top):0);$L.fastdom.mutate(function(){if(this.$node.ltProp("maxWidth")?(this.setData("calculateHW",!0),e=l.width,a=-1!=this.$node.ltProp("maxWidth").indexOf("%")?parseFloat(this.$node.ltProp("maxWidth"))/100*r.width:parseFloat(this.$node.ltProp("maxWidth")),i.style.width=a+"px",e<a&&(i.style.width=e+"px"),i.style.overflowX="auto"):a=l.width,this.$node.ltProp("maxHeight")){this.childComp.querySelector(".modalWrapper").classList.add("scrollable"),this.setData("calculateHW",!0),t=l.height-p;var s=-1!=this.$node.ltProp("maxHeight").indexOf("%")?parseFloat(this.$node.ltProp("maxHeight"))/100*r.height:parseFloat(this.$node.ltProp("maxHeight"));i.style.height=s+"px",o=s-p}else t=i.offsetHeight-p,o=t,this.$node.ltProp("scrollable")&&(o=d-40,this.setData("calculateHW",!0)),this.actualModalDiv.querySelector("lyte-modal-content")&&this.actualModalDiv.querySelector("lyte-modal-content").offsetHeight>t-((this.actualModalDiv.querySelector("lyte-modal-header")?this.actualModalDiv.querySelector("lyte-modal-header").offsetHeight:0)+(this.actualModalDiv.querySelector("lyte-modal-footer")?this.actualModalDiv.querySelector("lyte-modal-footer").offsetHeight:0))&&this.setData("calculateHW",!0);if(this.getData("calculateHW")){var h=this.actualModalDiv.querySelector("lyte-modal-header"),m=this.actualModalDiv.querySelector("lyte-modal-footer"),c=null,y=null;$L.fastdom.measure(function(){h&&(c=h.getBoundingClientRect()),m&&(y=m.getBoundingClientRect());n.getBoundingClientRect();var t=i.getBoundingClientRect().height;this.setData("prevHeight",t),$L.fastdom.mutate(function(){var t=o-((c?c.height:0)+(y?y.height:0));n.style.maxHeight=(t>0?t:50)+0+"px",n.style.overflowY="auto",i.style.width=this.$node.ltProp("width")?this.$node.ltProp("width"):"auto",this.actualModalDiv.style.maxWidth=a>0?a+"px":"70%",i=null,n=null,h=null,m=null,this.getData("initializedPosition")||(this.computeOffsetImpl(),this.setData("initializedPosition",!0))},this)},this)}else this.childComp.querySelector(".modalWrapper").classList.remove("scrollable"),i=null,n=null,this.getData("initializedPosition")||(this.computeOffsetImpl(),this.setData("initializedPosition",!0));this.$node.ltProp("freeze")||(this.childComp.querySelector(".modalWrapper").classList.add("noFreeze"),this.actualModalDiv.style.position="fixed")},this)},this)},scrollHandling:function(){this.getData("ltPropShow")&&this.updateScrollHandling()}.observes("ltPropWidth","ltPropMaxWidth","ltPropHeight","ltPropMaxHeight"),callOnShow:function(){this.getData("ltPropFreeze")&&(this.childComp.querySelector("lyte-modal-freeze").style.transitionDuration=this.getData("ltPropTransition").duration+"s"),this.getMethods("onShow")&&this.executeMethod("onShow",this)},callOnResize:function(){this.getMethods("onResize")&&this.executeMethod("onResize",this)},enableTransform:function(t,e,o){this.$node.ltProp("showCopy",!0);var a=this;setTimeout(function(){"x"==e&&(a.actualModalDiv.style.transform="translate("+t+"px,0px)",a.transform={x:t,y:0}),"y"==e&&(a.actualModalDiv.style.transform="translate(0px,"+t+"px)",a.transform={x:0,y:t})},"undefined"!=o?o:200)},computeOffsetImplOnResize:function(){$L.fastdom.measure(function(){var t=this.actualModalDiv,e=t.getBoundingClientRect(),o=parseInt(window.getComputedStyle(t.parentElement).top),a=t.offsetTop,i=Math.max(document.documentElement.clientWidth,window.innerWidth||0),n=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(this.getData("ltPropFreeze")?o:0),l=this.getData("prevWinH"),r=this.getData("prevWinW"),s=this.transform,p=null,d=null,h=this.getData("ltPropOffset"),m=this.getData("prevModalHeight")-e.height,c=this.getData("prevModalWidth")-e.width;"fadeIn"===this.getData("ltPropTransition").animation||"zoom"===this.getData("ltPropTransition").animation?(i<r&&(h.left&&"center"==h.left||h.right&&"center"==h.right?d=e.left-(r-i)/2:h.right?d=e.left-(r-i):h.left&&(d=e.left)),i>r&&(h.left&&"center"==h.left||h.right&&"center"==h.right?d=e.left+(i-r)/2:h.right?d=e.left+(i-r):h.left&&(d=e.left)),n<l&&(h.top&&"center"==h.top||h.bottom&&"center"==h.bottom?p=a-(l-n)/2:h.bottom?p=a-(l-n):h.top&&(p=a)),n>l&&(h.top&&"center"==h.top||h.bottom&&"center"==h.bottom?p=a+(n-l)/2:h.bottom&&"center"!=h.bottom?p=a+(n-l):h.top&&"center"!=h.top&&(p=a)),$L.fastdom.mutate(function(){p&&(t.style.top=p+"px"),d&&(t.style.left=d+"px")},this)):(i<r&&(h.left&&"center"==h.left||h.right&&"center"==h.right?d=s.x-(r-i)/2+c/2:h.right?d=s.x-(r-i)+c:h.left&&(d=s.x),this.transform.x=d),i>r&&(h.left&&"center"==h.left||h.right&&"center"==h.right?d=s.x+(i-r)/2+c/2:h.right?d=s.x+(i-r)+c:h.left&&(d=s.x),this.transform.x=d),n<l&&(h.top&&"center"==h.top||h.bottom&&"center"==h.bottom?p=s.y-(l-n)/2+m/2:h.bottom?p=s.y-(l-n):h.top&&(p=s.y),this.transform.y=p),n>l&&(h.top&&"center"==h.top||h.bottom&&"center"==h.bottom?p=s.y+(n-l)/2+m/2:h.bottom&&"center"!=h.bottom?p=s.y+(n-l):h.top&&"center"!=h.top&&(p=s.y),this.transform.y=p),$L.fastdom.mutate(function(){t.style.transitionDuration="0s","slideFromTop"===this.getData("ltPropTransition").animation||"slideFromBottom"===this.getData("ltPropTransition").animation?(i<r&&(h.left&&"center"==h.left||h.right&&"center"==h.right?t.style.left=e.left-(r-i)/2+c/2+"px":h.right?t.style.left=e.left-(r-i)+c+"px":h.left&&(t.style.left=e.left+"px")),i>r&&(h.left&&"center"==h.left||h.right&&"center"==h.right?t.style.left=e.left+(i-r)/2+c/2+"px":h.right?t.style.left=e.left+(i-r)+c+"px":h.left&&(t.style.left=e.left+"px")),t.style.transform="translate(0px,"+this.transform.y+"px)"):"slideFromLeft"!==this.getData("ltPropTransition").animation&&"slideFromRight"!==this.getData("ltPropTransition").animation||(n<l&&(h.top&&"center"==h.top||h.bottom&&"center"==h.bottom?t.style.top=a-(l-n)/2+m/2+"px":h.bottom?t.style.top=a-(l-n)+"px":h.top&&(t.style.top=a+"px")),n>l&&(h.top&&"center"==h.top||h.bottom&&"center"==h.bottom?t.style.top=a+(n-l)/2+m/2+"px":h.bottom&&"center"!=h.bottom?t.style.top=a+(n-l)+"px":h.top&&"center"!=h.top&&(t.style.top=a+"px")),t.style.transform="translate("+this.transform.x+"px,0px)")},this)),this.setData("prevModalHeight",e.height),this.setData("prevModalWidth",e.width),this.setData("prevWinH",n),this.setData("prevWinW",i)},this),modalEle=null},computeOffsetImpl:function(t){var e=this.nodeName&&"LYTE-MODAL"===this.nodeName?this.component:this;$L.fastdom.measure(function(){var o=e.actualModalDiv,a=Lyte.deepCopyObject(e.$node.ltProp("offset")),i=o.getBoundingClientRect(),n={top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:o.offsetWidth,height:o.offsetHeight},l=Math.max(document.documentElement.clientWidth,window.innerWidth||0),r=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(e.getData("ltPropFreeze")?parseInt(window.getComputedStyle(o.parentElement).top):0);if(o.style.transitionDuration=(void 0!=t?t:e.$node.ltProp("transition").duration)+"s",e.setData("prevWinH",r),e.setData("prevWinW",l),e.setData("prevModalHeight",n.height),e.setData("prevModalWidth",n.width),a){if("center"===a.left||"center"===a.right){var s=(l-n.width)/2;s<0&&(s=20),a.left=s}if("center"===a.top||"center"===a.bottom){var p=(r-n.height)/2;p<0&&(p=20),a.top=p}if(a.right&&"center"!==a.right&&(a.right.indexOf("%")>-1?a.left=l-(n.width+l/parseFloat(a.right)):a.left=l-(n.width+parseFloat(a.right))),a.bottom&&"center"!==a.bottom&&(a.bottom.indexOf("%")>-1?a.top=r-(n.height+r/parseFloat(a.bottom)):a.top=r-(n.height+parseFloat(a.bottom))),""!==a.left&&a.left||(e.data.ltPropOffset.left="center",a.left=(l-n.width)/2),""!==a.top&&a.top||(e.data.ltPropOffset.top="center",a.top=(r-n.height)/2),e.getData("ltPropTransition").originElement)if(h=document.querySelector(e.getData("ltPropTransition").originElement)){var d=h.getBoundingClientRect();a.originElementPos={xDiff:d.left+d.width/2-(parseFloat(a.left)+n.width/2),yDiff:d.top+d.height/2-(parseFloat(a.top)+n.height/2)}}else Console.error("The originElement provided does not exist. Kindly Check!");$L.fastdom.mutate(function(){if("slideFromTop"==e.getData("ltPropTransition").animation)o.style.left=parseFloat(a.left)+"px",o.style.top=-1*n.height+"px",e.enableTransform(parseInt(a.top)+n.height,"y",t);else if("slideFromBottom"==e.getData("ltPropTransition").animation)o.style.left=parseFloat(a.left)+"px",o.style.top=r+1+"px",e.enableTransform(-1*(r-parseInt(a.top)+1),"y",t);else if("slideFromLeft"==e.getData("ltPropTransition").animation)o.style.top=parseFloat(a.top)+"px",o.style.left=-1*n.width+"px",e.enableTransform(parseInt(a.left)+n.width,"x",t);else if("slideFromRight"==e.getData("ltPropTransition").animation)o.style.top=parseFloat(a.top)+"px",o.style.left=l+1+"px",e.enableTransform(-1*(l-parseInt(a.left)+1),"x",t);else if("fadeIn"==e.getData("ltPropTransition").animation)e.$node.ltProp("showCopy",!0),o.style.left=parseFloat(a.left)+"px",o.style.top=parseFloat(a.top)+"px",setTimeout(function(){o.style.opacity=1},200);else if("zoom"==e.getData("ltPropTransition").animation){e.$node.ltProp("showCopy",!0);var i="scale(0)";a.originElementPos&&(i="translateX( "+a.originElementPos.xDiff+"px) translateY( "+a.originElementPos.yDiff+"px) scale(0)"),o.style.left=parseFloat(a.left)+"px",o.style.top=parseFloat(a.top)+"px",o.style.transition="none",o.style.transform=i,o.style.opacity=1,setTimeout(function(){o.style.transition="",o.style.transitionDuration=(void 0!=t?t:e.$node.ltProp("transition").duration)+"s",a.originElementPos?o.style.transform="translateX(0) translateY(0) scale(1)":o.style.transform="scale(1)"},50)}e.getData("first")&&(e.callOnShow(),e.setData("first",!1))},e)}else{var h;if(e.setData("ltPropOffset",{left:"center",top:"center"}),a.left=(l-n.width)/2,a.top=(r-n.height)/2,e.$node.ltProp("scrollable")||(a.left<0&&(a.left=20),a.top<0&&(a.top=20)),e.getData("ltPropTransition").originElement)if(h=document.querySelector(e.getData("ltPropTransition").originElement)){d=h.getBoundingClientRect();a.originElementPos={xDiff:d.left+d.width/2-(a.left+n.width/2),yDiff:d.top+d.height/2-(a.top+n.height/2)}}else Console.error("The originElement provided does not exist. Kindly Check!");$L.fastdom.mutate(function(){if("slideFromTop"==e.getData("ltPropTransition").animation)o.style.left=a.left+"px",o.style.top=-1*n.height+"px",e.enableTransform(parseInt(a.top)+n.height,"y",t);else if("slideFromBottom"==e.getData("ltPropTransition").animation)o.style.left=a.left+"px",o.style.top=r+1+"px",e.enableTransform(-1*(parseInt(a.top)+n.height+1),"y",t);else if("slideFromLeft"==e.getData("ltPropTransition").animation)o.style.top=a.top+"px",o.style.left=-1*n.width+"px",e.enableTransform(parseInt(a.left)+n.width,"x",t);else if("slideFromRight"==e.getData("ltPropTransition").animation)o.style.top=a.top+"px",_modalEle.style.left=l+1+"px",this.enableTransform(-1*(parseInt(a.left)+n.width+1),"x",t);else if("fadeIn"==e.getData("ltPropTransition").animation)e.$node.ltProp("showCopy",!0),o.style.left=a.left+"px",o.style.top=a.top+"px",setTimeout(function(){o.style.opacity=1},200);else if("zoom"==e.getData("ltPropTransition").animation){e.$node.ltProp("showCopy",!0);var i="scale(0)";a.originElementPos&&(i="translateX( "+a.originElementPos.xDiff+"px) translateY( "+a.originElementPos.yDiff+"px) scale(0)"),o.style.left=parseFloat(a.left)+"px",o.style.top=parseFloat(a.top)+"px",o.style.transition="none",o.style.transform=i,o.style.opacity=1,setTimeout(function(){o.style.transition="",a.originElementPos?o.style.transform="translateX(0) translateY(0) scale(1)":o.style.transform="scale(1)"},50)}e.getData("first")&&(e.callOnShow(),e.setData("first",!1))},e)}e.$node.ltProp("freeze")&&(document.body.classList.add("bodyWrapper"),LytePopup.bodywrapperCount+=1)},e),modalEle=null},onBeforeCloseHandling:function(t){var e=!0;Math.max(document.documentElement.clientWidth,window.innerWidth||0),Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(this.getMethods("onBeforeClose")&&(e=this.executeMethod("onBeforeClose",t,this)),void 0===e||e){if(this.actualModalDiv&&this.childComp){this.getData("ltPropFreeze")&&LytePopup.hideOrShowFreeze("close");var o=1e3*parseFloat(this.$node.ltProp("transition").duration),a=this;setTimeout(function(){if(_lyteUiUtils.getRTL()){"slideFromLeft"==a.getData("ltPropTransition").animation?a.getData("ltPropTransition").animation="slideFromRight":"slideFromRight"==a.getData("ltPropTransition").animation&&(a.getData("ltPropTransition").animation="slideFromLeft");var t=a.getData("ltPropOffset"),e={};for(key in t)"left"==key&&"center"!=t[key]?e.right=t[key]:"right"==key?e.left=t[key]:e[key]=t[key];a.setData("ltPropOffset",e)}"zoom"==a.getData("ltPropTransition").animation&&(a.actualModalDiv.style.opacity="0",a.actualModalDiv.style.transform=""),a.$node.ltProp("freeze")||a.childComp.querySelector(".modalWrapper").classList.remove("noFreeze"),a.$node.ltProp({showCopy:!1,show:!1}),LytePopup.closePopup(a),a.getMethods("onClose")&&a.executeMethod("onClose",a),a.$node.ltProp("freeze")?(LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper")):a.actualModalDiv.style.position="fixed"},o);var i,n=this.actualModalDiv;n.style.transitionDuration=(0==o?0:o>300?o-200:100)/1e3+"s";var l="scale(0)";$L.fastdom.measure(function(){if(i=n.getBoundingClientRect(),"zoom"==this.getData("ltPropTransition").animation&&this.getData("ltPropTransition").originElement){var t=document.querySelector(this.getData("ltPropTransition").originElement);if(t){var e=t.getBoundingClientRect(),o={top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:n.offsetWidth,height:n.offsetHeight},a={xDiff:e.left+e.width/2-(o.left+o.width/2),yDiff:e.top+e.height/2-(o.top+o.height/2)};l="translateX( "+a.xDiff+"px) translateY( "+a.yDiff+"px) scale(0)"}else Console.error("The originElement provided does not exist. Kindly Check!")}},this),$L.fastdom.mutate(function(){"slideFromTop"==this.getData("ltPropTransition").animation?n.style.transform="translateY(-100%)":"slideFromBottom"==this.getData("ltPropTransition").animation?n.style.transform="translateY(100%)":"slideFromLeft"==this.getData("ltPropTransition").animation?n.style.transform="translateX(-100%)":"slideFromRight"==this.getData("ltPropTransition").animation?n.style.transform="translateX(100%)":"fadeIn"==this.getData("ltPropTransition").animation?n.style.opacity=0:"zoom"==this.getData("ltPropTransition").animation&&(n.style.transform=l),delete this.transform},this),$L.fastdom.mutate(function(){n=null}),n.classList.remove("lyteModalFromTop","lyteModalFromBottom","lyteModalFromLeft","lyteModalFromRight","lyteModalFadeIn"),this.$node.ltProp("freeze")&&this.childComp.querySelector("lyte-modal-freeze")&&(this.childComp.querySelector("lyte-modal-freeze").style.opacity=0),this.setData("first",!0),this.setData("initializedPosition",!1)}this.$node.alignModal=null}else this.setData("returnedFalse",!0),this.$node.ltProp("show",!0)},onBeforeShowHandling:function(){var t=!0;if(this.getMethods("onBeforeShow")&&(t=this.executeMethod("onBeforeShow",this)),void 0===t||t){this.addDragHandler(),this.updateScrollHandling();var e=this.actualModalDiv;e.style.transitionDuration=this.$node.ltProp("transition").duration+"s";var o="lyteModalFrom";this.actualModalDiv.style,this.actualModalDiv.getBoundingClientRect();switch(this.$node.ltProp("transition").animation){case"slideFromTop":o+="Top";break;case"slideFromBottom":o+="Bottom";break;case"slideFromLeft":o+="Left";break;case"slideFromRight":o+="Right";break;case"fadeIn":o="lyteModalFadeIn"}if($L.fastdom.mutate(function(){this.actualModalDiv.classList.add(o),e=null},this),this.$node.ltProp("freeze")){var a=this.childComp.querySelector("lyte-modal-freeze").style;a.opacity=this.getData("ltPropDimmer").opacity,a.background=this.getData("ltPropDimmer").color}LytePopup.addPopup(this),this.$node.alignModal=this.computeOffsetImpl,this.$node.calculateOffset=this.updateScrollHandling.bind(this)}else this.setData("returnedFalse",!0),this.$node.ltProp({showCopy:!1,show:!1})},didDestroy:function(){this.childComp&&(LytePopup.closePopup(this),this.childComp.remove(),delete this.actualModalDiv,delete this.childComp,this.$node.ltProp("freeze")&&(LytePopup.bodywrapperCount-=1,0!=LytePopup.bodywrapperCount&&0!=LytePopup.components.length||document.body.classList.remove("bodyWrapper")))},actions:{close:function(){this.$node.ltProp("show",!1)}},methods:{beforeWormholeAppend:function(t){this.childComp&&delete this.childComp,this.actualModalDiv&&delete this.actualModalDiv,this.childComp=t,this.actualModalDiv=this.childComp.querySelector(".lyteModal")}}}),"complete"===document.readyState||"interactive"===document.readyState?addModalEvent():document.addEventListener("DOMContentLoaded",function(t){addModalEvent(t)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),a=1;a<arguments.length;a++){var i=arguments[a];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])}return o},writable:!0,configurable:!0});